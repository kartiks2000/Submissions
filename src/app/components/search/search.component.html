<div class="main-bar">
  <div class="filter_bar">
    <div>
      <input
        class="search-input"
        type="text"
        name="search"
        placeholder="Search..."
        [formControl]="filterTask"
      />
    </div>
    <div>
      <select
        [formControl]="filterForm"
        placeholder="Select Form"
        class="form-input"
      >
      <option value="" disabled selected>Select Form</option>
        <!-- <option value="volvo">Volvo</option>
        <option value="saab">Saab</option>
        <option value="mercedes">Mercedes</option>
        <option value="audi">Audi</option> -->
      </select>
    </div>
    <div>
      <select
        [formControl]="filterStatus"
        placeholder="Select Status"
        class="form-input"
      >
        <option value="" disabled selected>Select Status</option>
        <option value="0">Low Risk</option>
        <option value="1">Unassigned</option>
        <option value="2">Uncomplete</option>
      </select>
    </div>
    <div>
      <input type="date" [formControl]="filterDate" class="date-input" />

      <!-- <input
        type="text"
        id="datepicker"
        class="border border-gray-300 rounded p-2"
        placeholder="Select Date"
      /> -->
    </div>
  </div>

  <div class="buttons">
    <!-- <button (click)="log()">prinitn</button> -->

    <!-- <button (click)="showMap()">Map</button>
    <button (click)="showTable()">List</button> -->

    <div class="flex">
      <button
        (click)="showMap()"
        class="text-white py-2 px-4 rounded-l focus:outline-none border border-blue-500"
        [ngClass]="{
          'bg-blue-500 text-white': this.table_map_toogle === true
        }"
      >
        Map
      </button>
      <button
        (click)="showTable()"
        class="text-white py-2 px-4 rounded-r focus:outline-none border border-blue-500"
        [ngClass]="{
          'bg-blue-500 text-white': this.table_map_toogle === false
        }"
      >
        List
      </button>
      <!-- <button
        (click)="showTable()"
        class="bg-white py-2 px-4 rounded-r focus:outline-none border border-blue-500"
        [ngClass]="{
          'bg-blue-500 text-white': this.table_map_toogle === false
        }"
      >
        List
      </button> -->
    </div>

    <button (click)="downloadCSV()" class="export-icon">Export</button>
  </div>
</div>

<app-table
  *ngIf="!this.table_map_toogle"
  [tasks]="this.filteredTasks"
></app-table>

<app-map-screen
  *ngIf="this.table_map_toogle"
  [tasks]="this.filteredTasks"
></app-map-screen>

<script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
<link
  href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
  rel="stylesheet"
/>
